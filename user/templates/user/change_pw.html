{% extends "user/base.html" %}
{% block title %}
UserChangePW
{% endblock title %}

{% block content %}
    <h1 style="text-align: center; padding-bottom: 70px;">비밀번호 변경</h1>
    <div class="container" style="width: 400px; padding: 50px; border: #d3d6d9 solid 1px; border-radius: 25px;">
        <form method="POST" novalidate>
        {% csrf_token %}
        <div>
            <label name="label_old_password" for="{{ form.old_password.id_for_label }}">{{ form.old_password.label }}</label>
            {{ form.old_password }}
            <script type="text/javascript">
                if (document.getElementsByName('old_password')[0].value != '') {
                    document.getElementsByName('label_old_password')[0].setAttribute('class', 'active');
                }
            </script>
            {% if form.old_password.errors %}
                <script type="text/javascript">
                    document.getElementsByName('old_password')[0].setAttribute('class', 'form-control is-invalid')
                </script>
                {% for error in form.old_password.errors %}
                <div class="invalid-feedback">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div>
        <div>
            <label name="label_new_password1" for="{{ form.new_password1.id_for_label }}">{{ form.new_password1.label }}</label>
            {{ form.new_password1 }}
            <script type="text/javascript">
                if (document.getElementsByName('new_password1')[0].value != '') {
                    document.getElementsByName('label_new_password1')[0].setAttribute('class', 'active');
                }
            </script>
            {% if form.new_password1.errors %}
            <script type="text/javascript">
                document.getElementsByName('new_password1')[0].setAttribute('class', 'form-control is-invalid')
            </script>
            {% for error in form.new_password1.errors %}
            <div class="invalid-feedback">
                {{ error }}
            </div>
            {% endfor %}
            {% endif %}
        </div>
        <div>
            <label name="label_new_password2" for="{{ form.new_password2.id_for_label }}">{{ form.new_password2.label }}</label>
            {{ form.new_password2 }}
            <script type="text/javascript">
                if (document.getElementsByName('new_password2')[0].value != '') {
                    document.getElementsByName('label_new_password2')[0].setAttribute('class', 'active');
                }
            </script>
            {% if form.new_password2.errors %}
                <script type="text/javascript">
                    document.getElementsByName('new_password2')[0].setAttribute('class', 'form-control is-invalid')
                </script>
                {% for error in form.new_password2.errors %}
                <div style="white-space: nowrap;" class="invalid-feedback">
                    {{ error }}
                </div>
                {% endfor %}
            {% endif %}
        </div><br>
        <div class="float-end">
            <button type="button" class="btn btn-secondary" onclick='location.href="{% url 'user:profile' user.pk %}"'>취소</button>
            <button type="submit" class="btn btn-primary" name="bt" style="background-color: #6498e7; border: none;">비밀번호 변경</button>
        </div>
        </form>
    </div>

{% endblock content %}

